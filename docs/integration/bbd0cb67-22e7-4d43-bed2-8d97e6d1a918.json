{
    "id": "bbd0cb67-22e7-4d43-bed2-8d97e6d1a918",
    "name": "Visual Code",
    "data": {
        "id": "bbd0cb67-22e7-4d43-bed2-8d97e6d1a918",
        "name": "Visual Code",
        "description": "Visual code",
        "created_on": "2021-11-16T22:50:19.101Z",
        "channels": [
            {
                "name": "Channel",
                "id": "55034228-99a6-4b1a-aaa6-9df54f6155ad",
                "created_on": "2021-11-16T22:50:48.033Z",
                "version": 98,
                "nodes": {
                    "list": [
                        {
                            "id": "eb33e0ff-c35f-4656-96dc-494df8929e0f",
                            "type_id": "331a8e65-ed4e-4911-89b3-20f256870301",
                            "custom_name": "HTTP Input",
                            "links": [
                                {
                                    "node_id": "5cf29022-88d3-40dd-982a-ee0f8dfe5165",
                                    "handle": null
                                }
                            ],
                            "position": {
                                "x": 72,
                                "y": 32
                            },
                            "data": {
                                "protocol": "jetty:http",
                                "hostname": "0.0.0.0",
                                "path": "/test",
                                "port": 8888
                            }
                        },
                        {
                            "id": "b966312e-50ce-4c53-9b41-609ab87478b9",
                            "type_id": "e0a4f9f7-0d4b-4fd4-a500-dc944b17f241",
                            "custom_name": "Log",
                            "links": [],
                            "position": {
                                "x": 1000,
                                "y": 36
                            },
                            "data": {
                                "name": "debug"
                            }
                        },
                        {
                            "id": "5cf29022-88d3-40dd-982a-ee0f8dfe5165",
                            "type_id": "fa6b5212-a518-49f8-8867-c965473ac4d0",
                            "custom_name": "Debug",
                            "links": [
                                {
                                    "node_id": "15513241-5a4f-46dc-a190-4e6fbabddb68",
                                    "handle": null
                                }
                            ],
                            "position": {
                                "x": 297,
                                "y": 29
                            },
                            "data": {}
                        },
                        {
                            "id": "15513241-5a4f-46dc-a190-4e6fbabddb68",
                            "type_id": "b30ed503-44f3-4387-af08-b7cd2df81f5e",
                            "custom_name": "Visual Groovy Code",
                            "links": [
                                {
                                    "node_id": "76e2b915-f454-4af1-ae6d-712660b9d571",
                                    "handle": null
                                }
                            ],
                            "position": {
                                "x": 522,
                                "y": 31
                            },
                            "data": {
                                "script": {
                                    "contextCode": "camel_context_groovy",
                                    "contextMember": {
                                        "memberType": "context",
                                        "code": "context",
                                        "name": "context",
                                        "type": {
                                            "type": "object",
                                            "objectCode": "camel.context"
                                        }
                                    },
                                    "language": "groovy",
                                    "mainStatement": {
                                        "id": "main-block",
                                        "type": "block",
                                        "main": true,
                                        "variables": {},
                                        "nestedStatements": [
                                            {
                                                "id": "start",
                                                "type": "start",
                                                "name": "Inicio"
                                            },
                                            {
                                                "id": "8ac6654e-7348-43d2-a2bd-29b8c973c9b4",
                                                "type": "expressionGroup",
                                                "name": "Nuevo grupo de expresiones",
                                                "expressions": [
                                                    [
                                                        {
                                                            "memberType": "context",
                                                            "code": "context",
                                                            "name": "context",
                                                            "type": {
                                                                "type": "object",
                                                                "objectCode": "camel.context"
                                                            }
                                                        },
                                                        {
                                                            "memberType": "property",
                                                            "code": "exchange",
                                                            "name": "Exchange",
                                                            "type": {
                                                                "type": "object",
                                                                "objectCode": "camel.exchange"
                                                            },
                                                            "complexityLevel": 1
                                                        },
                                                        {
                                                            "memberType": "method",
                                                            "id": 22457,
                                                            "code": "camel.exchange.setBody",
                                                            "name": "Modificar cuerpo",
                                                            "type": {
                                                                "type": "void"
                                                            },
                                                            "name_": "Test CLONED",
                                                            "isActive": true,
                                                            "language": "groovy",
                                                            "parentType": {
                                                                "type": "object",
                                                                "objectCode": "camel.exchange"
                                                            },
                                                            "sourceCode": "self.getIn().setBody(params.body);",
                                                            "description": "",
                                                            "paramMembers": [
                                                                {
                                                                    "code": "body",
                                                                    "name": "Cuerpo",
                                                                    "type": {
                                                                        "type": "string"
                                                                    },
                                                                    "required": false
                                                                }
                                                            ],
                                                            "renderTemplate": "Modificar cuerpo {{body}}",
                                                            "complexityLevel": 1,
                                                            "sourceCodeForBinaryOperator": "",
                                                            "params": {
                                                                "body": {
                                                                    "$exp": [
                                                                        {
                                                                            "memberType": "context",
                                                                            "code": "context",
                                                                            "name": "context",
                                                                            "type": {
                                                                                "type": "object",
                                                                                "objectCode": "camel.context"
                                                                            }
                                                                        },
                                                                        {
                                                                            "memberType": "property",
                                                                            "code": "exchange",
                                                                            "name": "Exchange",
                                                                            "type": {
                                                                                "type": "object",
                                                                                "objectCode": "camel.exchange"
                                                                            },
                                                                            "complexityLevel": 1
                                                                        },
                                                                        {
                                                                            "memberType": "method",
                                                                            "id": 22458,
                                                                            "code": "camel.exchange.getBody",
                                                                            "name": "Get body",
                                                                            "type": {
                                                                                "type": "string"
                                                                            },
                                                                            "isActive": true,
                                                                            "language": "groovy",
                                                                            "parentType": {
                                                                                "type": "object",
                                                                                "objectCode": "camel.exchange"
                                                                            },
                                                                            "sourceCode": "return self.getIn().getBody(String.class);",
                                                                            "description": "",
                                                                            "renderTemplate": "Body",
                                                                            "complexityLevel": 1,
                                                                            "sourceCodeForBinaryOperator": "",
                                                                            "paramMembers": []
                                                                        },
                                                                        {
                                                                            "memberType": "method",
                                                                            "code": "groovy.string.toUpperCase",
                                                                            "name": "Mayúsculas",
                                                                            "type": {
                                                                                "type": "string"
                                                                            },
                                                                            "isActive": true,
                                                                            "language": "groovy",
                                                                            "parentType": {
                                                                                "type": "string"
                                                                            },
                                                                            "sourceCode": "return self.toUpperCase();",
                                                                            "description": "",
                                                                            "renderTemplate": "Mayúsculas",
                                                                            "complexityLevel": 1,
                                                                            "sourceCodeForBinaryOperator": "",
                                                                            "paramMembers": []
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    ]
                                                ]
                                            },
                                            {
                                                "id": "end",
                                                "type": "end",
                                                "name": "Fin"
                                            }
                                        ]
                                    }
                                },
                                "beforeSave": "generateCode",
                                "code": "// Code preparation\n\n// Preparation\ndef context = [exchange: exchange, request: request, response: response, properties: properties];\n// Functions\n\ndef setBody(self, options) {\n    context = options.context;\n    params = options.params;\n    variablePath = options.variablePath;\n    self.getIn().setBody(params.body);\n}\n\ndef getBody(self, options) {\n    context = options.context;\n    params = options.params;\n    variablePath = options.variablePath;\n    return self.getIn().getBody(String.class);\n}\n\ndef toUpperCase(self, options) {\n    context = options.context;\n    params = options.params;\n    variablePath = options.variablePath;\n    return self.toUpperCase();\n}\n\n// Start\n\n// Nuevo grupo de expresiones\nsetBody(context?.exchange, [ params: [\"body\": toUpperCase(getBody(context?.exchange, [ params: [:], context: context]), [ params: [:], context: context])], context: context]);\n\n// End"
                            }
                        },
                        {
                            "id": "76e2b915-f454-4af1-ae6d-712660b9d571",
                            "type_id": "fa6b5212-a518-49f8-8867-c965473ac4d0",
                            "custom_name": "Debug",
                            "links": [
                                {
                                    "node_id": "b966312e-50ce-4c53-9b41-609ab87478b9",
                                    "handle": null
                                }
                            ],
                            "position": {
                                "x": 775,
                                "y": 32
                            },
                            "data": {}
                        }
                    ]
                },
                "enabled": true,
                "status": "UNDEPLOYED",
                "last_updated": "2021-11-17T17:01:37.239Z",
                "message_count": 0
            }
        ],
        "enabled": true,
        "last_updated": "2021-11-17T17:01:40.201Z"
    },
    "organization_id": null,
    "enabled": true,
    "package_code": "angie.core",
    "package_version": "1.0.0"
}