{
    "id": "ed3b9a08-1fc1-4203-b0e6-c2ff5fbd2516",
    "name": "itest",
    "data": {
        "id": "ed3b9a08-1fc1-4203-b0e6-c2ff5fbd2516",
        "name": "itest",
        "description": "I test",
        "created_on": "2021-12-04T10:34:06.317Z",
        "channels": [
            {
                "name": "Channel",
                "id": "aec09390-0289-4ce7-9efa-a187517b4367",
                "created_on": "2021-12-04T10:34:20.207Z",
                "version": 25,
                "nodes": [
                    {
                        "id": "c4f3a5f4-89ce-4f8d-8c34-b39c7671161d",
                        "type_id": "331a8e65-ed4e-4911-89b3-20f256870301",
                        "custom_name": "HTTP Input",
                        "links": [
                            {
                                "node_id": "8e9ab85f-1274-4cc5-bf4c-2d231ccb8c64",
                                "handle": null
                            }
                        ],
                        "position": {
                            "x": 186,
                            "y": 92
                        },
                        "data": {
                            "label": "HTTP Input",
                            "protocol": "jetty:http",
                            "hostname": "0.0.0.0",
                            "path": "/itest",
                            "port": 8888
                        }
                    },
                    {
                        "id": "8e9ab85f-1274-4cc5-bf4c-2d231ccb8c64",
                        "type_id": "b30ed503-44f3-4387-af08-b7cd2df81f5e",
                        "custom_name": "Visual Groovy Code",
                        "links": [
                            {
                                "node_id": "d9188035-c22f-4e55-9d07-af79cbbcd852",
                                "handle": null
                            }
                        ],
                        "position": {
                            "x": 440,
                            "y": 91
                        },
                        "data": {
                            "script": {
                                "contextCode": "camel_context_groovy",
                                "contextMember": {
                                    "memberType": "context",
                                    "code": "context",
                                    "name": "context",
                                    "type": {
                                        "type": "object",
                                        "objectCode": "camel.context"
                                    }
                                },
                                "language": "groovy",
                                "mainStatement": {
                                    "id": "main-block",
                                    "type": "block",
                                    "main": true,
                                    "variables": {},
                                    "nestedStatements": [
                                        {
                                            "id": "start",
                                            "type": "start",
                                            "name": "Inicio"
                                        },
                                        {
                                            "id": "d4a98f65-7a82-4484-bb9f-1b38a5431eb1",
                                            "type": "expressionGroup",
                                            "name": "Nuevo grupo de expresiones",
                                            "expressions": [
                                                [
                                                    {
                                                        "memberType": "context",
                                                        "code": "context",
                                                        "name": "context",
                                                        "type": {
                                                            "type": "object",
                                                            "objectCode": "camel.context"
                                                        }
                                                    },
                                                    {
                                                        "memberType": "property",
                                                        "code": "exchange",
                                                        "name": "Exchange",
                                                        "type": {
                                                            "type": "object",
                                                            "objectCode": "camel.exchange"
                                                        },
                                                        "complexityLevel": 1
                                                    },
                                                    {
                                                        "memberType": "method",
                                                        "id": 22457,
                                                        "code": "camel.exchange.setBody",
                                                        "name": "Set body",
                                                        "type": {
                                                            "type": "void"
                                                        },
                                                        "name_": "Test CLONED",
                                                        "isActive": true,
                                                        "language": "groovy",
                                                        "parentType": {
                                                            "type": "object",
                                                            "objectCode": "camel.exchange"
                                                        },
                                                        "sourceCode": "self.getIn().setBody(params.body);",
                                                        "description": "",
                                                        "paramMembers": [
                                                            {
                                                                "code": "body",
                                                                "name": "Cuerpo",
                                                                "type": {
                                                                    "type": "string"
                                                                },
                                                                "required": false
                                                            }
                                                        ],
                                                        "renderTemplate": "Modificar cuerpo {{body}}",
                                                        "complexityLevel": 1,
                                                        "sourceCodeForBinaryOperator": "",
                                                        "params": {
                                                            "body": "Hello world!!!"
                                                        }
                                                    }
                                                ]
                                            ]
                                        },
                                        {
                                            "id": "end",
                                            "type": "end",
                                            "name": "Fin"
                                        }
                                    ]
                                }
                            },
                            "label": "Visual Groovy Code",
                            "beforeSave": "generateCode",
                            "code": "import com.github.mustachejava.DefaultMustacheFactory;\nimport com.github.mustachejava.Mustache;\nimport java.io.StringReader;\nimport java.io.StringWriter;\nimport java.io.Writer;\n\n// Code preparation\ndef context = [exchange: exchange, request: request, response: response, properties: properties, variables: [:]];\ndef nestedSet( variables, variablePath, Object value){\n    def index = 0\n    def currentVariable = variables\n    for (member in variablePath){\n        if (index == variablePath.size() - 1) {\n            currentVariable[member] = value\n        }else{\n            if (!currentVariable.containsKey(member)){\n                currentVariable[member] = [:]\n            }\n            currentVariable = currentVariable[member]\n        }\n        index++\n    }\n}\n\ndef resolveTemplate(String template, Object context){\n    Writer writer = new StringWriter();\n    DefaultMustacheFactory mf = new DefaultMustacheFactory();\n    mf.compile(new StringReader(template),\"test\",\"#{\",\"}\").execute(writer,context);\n    return writer.toString();\n}\n\n// Functions\n\ndef setBody(self, options) {\n    context = options.context;\n    params = options.params;\n    variablePath = options.variablePath;\n    self.getIn().setBody(params.body);\n}\n\n// Start\n\n// Nuevo grupo de expresiones\nsetBody(context?.exchange, [ params: [\"body\": \"Hello world!!!\"], context: context]);\n\n// End"
                        }
                    },
                    {
                        "id": "d9188035-c22f-4e55-9d07-af79cbbcd852",
                        "type_id": "e0a4f9f7-0d4b-4fd4-a500-dc944b17f241",
                        "custom_name": "Log",
                        "links": [],
                        "position": {
                            "x": 709,
                            "y": 98
                        },
                        "data": {
                            "label": "Log",
                            "name": "debug"
                        }
                    },
                    {
                        "id": "9ae08672-d041-4012-93d8-8045604d2ad6",
                        "type_id": "331a8e65-ed4e-4911-89b3-20f256870301",
                        "custom_name": "HTTP Input",
                        "links": [
                            {
                                "node_id": "8e9ab85f-1274-4cc5-bf4c-2d231ccb8c64",
                                "handle": null
                            }
                        ],
                        "position": {
                            "x": 180.2161515093401,
                            "y": 229.6976517762282
                        },
                        "data": {
                            "label": "HTTP Input",
                            "protocol": "jetty:http",
                            "hostname": "0.0.0.0",
                            "path": "/itest2",
                            "port": 8888
                        }
                    }
                ],
                "enabled": true,
                "status": "STARTED",
                "last_updated": "2021-12-04T11:12:51.613Z",
                "message_count": "0"
            }
        ],
        "enabled": true,
        "last_updated": "2021-12-04T11:12:57.766Z"
    },
    "organization_id": null,
    "enabled": true,
    "package_code": "angie.core",
    "package_version": "1.0.0"
}